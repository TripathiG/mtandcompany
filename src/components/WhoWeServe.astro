---
// By using `as const`, we create a readonly tuple of specific string literals,
// which allows for stronger type-checking.
const industries = [
  "Trading", 
  "Manufacturing", 
  "Energy Sector", 
  "Real Estate", 
  "E-Commerce", 
  "Pharmaceuticals", 
  "NRIs",
  "HNIs",
  "NGOs & Societies"
] as const;

// We use `Record` to create a type where the keys must be one of the strings
// from the `industries` array, ensuring type safety.
const industryImages: Record<typeof industries[number], string> = {
  "Trading": "/images/who-we-serve/trading.jpg",
  "Manufacturing": "/images/who-we-serve/manufacturing.jpg",
  "Energy Sector": "/images/who-we-serve/energy-sector.jpg",
  "Real Estate": "/images/who-we-serve/real-estate.jpg",
  "E-Commerce": "/images/who-we-serve/e-commerce.jpg",
  "Pharmaceuticals": "/images/who-we-serve/pharmaceuticals.jpg",
  "NRIs": "/images/who-we-serve/nris.jpg",
  "HNIs": "/images/who-we-serve/hnis.jpg",
  "NGOs & Societies": "/images/who-we-serve/ngos-and-societies.jpg"
};

const allIndustries = [...industries, ...industries];
---

<section id="who-we-serve" class="py-20 bg-warm-white/40 overflow-hidden">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center mb-12 text-primary-purple">Who We Serve</h2>
  </div>
  
  <div 
    class="relative w-full group"
    style="mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);"
  >
    <div class="flex animate-marquee group-hover:[animation-play-state:paused]">
      {allIndustries.map((industry) => (
        <div class="flex-shrink-0 mx-4 w-64 text-center">
          <div class="w-full h-40 bg-gray-300 rounded-lg mb-4 flex items-center justify-center shadow-md">
             <img 
               src={industryImages[industry]} 
               alt={industry} 
               class="rounded-lg object-cover w-full h-full"
               loading="lazy"
             />
          </div>
          <p class="font-bold text-lg mt-2 text-primary-purple/80">{industry}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  @keyframes marquee {
    from { transform: translateX(0); }
    to { transform: translateX(-162rem); }
  }

  .animate-marquee {
    display: flex;
    animation: marquee 30s linear infinite;
    will-change: transform;
  }
</style>
