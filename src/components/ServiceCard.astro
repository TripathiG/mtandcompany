
---
import type { Component } from 'astro';

interface Props {
  title: string;
  description?: string;
  icon: Component;
  details?: string[];
  href?: string;
}

const { title, description, icon: Icon, details, href } = Astro.props;
---

<div 
  class:list={[
    "bg-warm-white text-primary-purple p-6 rounded-lg shadow-lg border border-primary-purple/10 flex flex-col",
    href ? "w-64 h-64 items-center justify-center text-center" : "h-full"
  ]}
>
  {/* For homepage cards with href */}
  {href && (
    <>
      <div class="flex-grow flex flex-col items-center justify-center">
        <Icon class="w-10 h-10 text-accent-green mb-4" />
        <h3 class="text-xl font-bold">{title}</h3>
      </div>
      <div class="mt-2">
        <a {href} class="text-accent-green font-semibold hover:underline">
          Learn more &rarr;
        </a>
      </div>
    </>
  )}

  {/* For service page cards without href */}
  {!href && (
    <>
      <div class="flex items-center mb-4">
        <Icon class="w-10 h-10 text-accent-green mr-4 flex-shrink-0" />
        <h3 class="text-xl font-bold">{title}</h3>
      </div>
      {description && <p class="mb-4 flex-grow text-sm">{description}</p>}
      {details && (
        <ul class="list-disc list-inside mb-6 space-y-2 text-sm">
          {details.map((detail) => (
            <li>{detail}</li>
          ))}
        </ul>
      )}
    </>
  )}
</div>
